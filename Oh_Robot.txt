  Oh Robot!   10 *KEY 7 MODE 3|M |N LIST |M   20 MODE 2   30 PROCINIT   40 PROCPALETTE   50 PROCREADDATA   60 PROCBADGUY(28,127)   70 REM PROCBADGUY(25,127)    80 PROCBOX    90 PROCDRAWSPRITE  100 REM PRINT TAB(7,2)"ROBOT"  110 K = GET  120 PROCDRAWSPRITE  130 PROCBOX  140 IF K = 65 AND X% <> 0 THEN X%=X%-1  150 IF K = 68 AND X% <> 74 THEN X%=X%+1  160 IF K = 87 AND Y% <> 3 THEN Y%=Y%-1  170 IF K = 83 AND Y% <238 THEN Y%=Y%+1  180 PROCBOX   190 PROCCOLLISION    200 PROCDRAWSPRITE  210 *FX 15,1  220 GOTO 110  230:  240 END  250:  260 REM CALCULATE ADDRESS FROM SCREEN COORDINATES  270 DEF FNADDRESS(X%,Y%)  280 ADR% = (&3000 + 8*X%) + (640*(Y% DIV 8)) + (Y% MOD 8)  290=ADR%  300:  310 REM REDEFINE PALETTE  320 DEF PROCPALETTE  330 VDU 19,0,1;0;  340 VDU 19,1,A;0;  350 VDU 19,2,B;0;  360 VDU 19,3,C;0;  370 VDU 19,4,0;0;  380 VDU 19,5,A;0;   390 VDU 19,6,B;0;  400 VDU 19,7,C;0;  410 VDU 19,8,0;0;  420 VDU 19,9,A;0;  430 VDU 19,10,B;0;  440 VDU 19,11,C;0;  450 VDU 19,12,0;0;  460 VDU 19,13,A;0;  470 VDU 19,14,B;0;  480 VDU 19,15,C;0;  490 ENDPROC  500:  510 REM PUT DATA INTO ARRAY  520 DEF PROCREADDATA  530 FOR ROW%  = 0 TO 16  540 FOR COLUMN% = 0 TO 5   550 READ D%(ROW%,COLUMN%)  560 NEXT COLUMN%  570 NEXT ROW%  580 DATA 0,5,0,0,10,0  590 DATA 0,3,3,3,3,0  600 DATA 0,3,12,12,3,0  610 DATA 0,3,11,7,3,0  620 DATA 0,3,11,7,3,0  630 DATA 0,3,3,3,3,0  640 DATA 1,3,3,3,3,2  650 DATA 2,3,15,15,3,1  660 DATA 2,3,3,3,3,1  670 DATA 2,1,0,0,2,1  680 DATA 0,1,0,0,2,0  690 DATA 0,1,0,0,2,0  700 DATA 0,1,0,0,2,0  710 DATA 0,1,0,0,2,0  711 DATA 0,1,0,0,2,0  712 DATA 0,1,0,0,2,0  720 DATA 0,5,0,0,10,0  730 ENDPROC  740:  750 REM DRAW SPRITE TO SCREEN  760 DEF PROCDRAWSPRITE  770 FOR ROW%= 0 TO 16  780 SPRTPOS = FNADDRESS(X%,Y%)  790 FOR COLUMN% = 0 TO 5  800 ?SPRTPOS = ?SPRTPOS EOR D%(ROW%,COLUMN%)  810 SPRTPOS = SPRTPOS+8  820 NEXT COLUMN%  830 Y% = Y%+1  840 NEXT ROW%  850 Y% = Y%-17  860 ENDPROC  870:  880 REM INITIALISE VARIABLES  890 DEF PROCINIT  900 VDU 23;10,32,0;0;0;   910 DIM D%(16,5)  920 X% = 36  930 Y% = 140  940 A = 6: B = 2: C = 4  950 SPRTPOS = FNADDRESS(X%,Y%)  951 FLAG = FALSE  960 CLS  970 ENDPROC  980:  990 REM PROCBOX 1000 DEF PROCBOX 1010 XS% = X% 1020 YS% = Y% 1030 DOT% = FNADDRESS(XS%,YS%) 1040 DOTR% = DOT% + (8*5) 1050 DOTB% = DOT% + (640+640) 1060 DOTBR% = DOT% + ((640+640)+(8*5))   1070 XWIDTH% = XS%+5 1080 YHEIGHT% = YS%+16 1090 REM PRINT TAB(13,0);XS% 1100 REM PRINT TAB(17,0);XWIDTH% 1110 REM PRINT TAB(13,1);YS% 1120 REM PRINT TAB(17,1);YHEIGHT% 1121 REM PRINT TAB(0,7);~DOT% 1122 REM PRINT TAB(0,8);~DOTR%  1123 REM PRINT TAB(0,10);~DOTB%  1124 REM PRINT TAB(0,11);~DOTBR% 1130 REM ?DOT% = ?DOT% EOR &0F 1140 REM ?DOTR% = ?DOTR% EOR &0F 1150 REM ?DOTB% = ?DOTB% EOR &0F 1160 REM ?DOTBR% = ?DOTBR% EOR &0F 1170 ENDPROC 1180 REM EOR &0F FOR BOX 1190: 1200 REM BAD GUY 1210 DEF PROCBADGUY(BADGUYCOORDX%,BADGUYCOORDY%) 1220 XBG% = BADGUYCOORDX% 1230 YBG% = BADGUYCOORDY% 1240 BADGUYPOS% = FNADDRESS(XBG%,YBG%) 1250 BGWIDTH% = XBG% +5 1260 BGHEIGHT% = YBG% +16 1270 REM PRINT TAB(0,0);XBG%  1280 REM PRINT TAB(4,0);BGWIDTH% 1290 REM PRINT TAB(0,1);YBG% 1300 REM PRINT TAB(4,1);BGHEIGHT% 1310 BGDOTR% = BADGUYPOS% + (8*5) 1320 BGDOTB% = BADGUYPOS% + (640+640) 1330 BGDOTBR% = BADGUYPOS% + ((640+640)+(8*5)) 1340 ?BADGUYPOS% = ?BADGUYPOS%  EOR &0F 1350 ?BGDOTR% = ?BGDOTR% EOR &0F 1360 ?BGDOTB% = ?BGDOTB% EOR &0F 1370 ?BGDOTBR% = ?BGDOTBR% EOR &0F 1380 ENDPROC 1390: 1400 REM COLLISION CHECK 1410 DEF PROCCOLLISION 1430 IF XS%<=BGWIDTH% AND XWIDTH%>=XBG% AND YS%<=BGHEIGHT% AND YHEIGHT%>=YBG% THEN FLAG = TRUE ELSE FLAG = FALSE 1431 IF FLAG = TRUE AND K=65 THEN X%=X%+1 1432 IF FLAG = TRUE AND K=68 THEN X%=X%-1 1433 IF FLAG = TRUE AND K=87 THEN Y%=Y%+1 1434 IF FLAG = TRUE AND K=83 THEN Y%=Y%-1 1440 ENDPROC>